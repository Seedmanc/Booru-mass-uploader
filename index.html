<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Mass uploader</title>
	<meta http-equiv="Cache-Control" content="no-store"/>
	<meta content="text/html" charset="utf-8" http-equiv="Content-Type"/>
	<style type="text/css">
		body {
			width: 66%;
			margin: 0 auto;
			min-width: 650px;
		}

		h1 {
			text-align: center;
		}

		p.intro, q {
			font-style: italic;
		}

		fieldset {
			margin: 0.66em 1em;
			padding: 0.66em 1em 1em;
		}

		legend {
			font-weight: bold;
		}

		legend span {
			cursor: pointer;
			color: blue;
		}

		fieldset p {
			margin: 0;
		}

		div.para {
			margin: 0.3em 0;
		}

		button {
			font-size: 1.5em;
			font-weight: bold;
			padding: 5px 1em;
			display: block;
			margin: 0.66em auto;
			cursor: pointer;
		}

		#bat {
			padding-left: 35px;
		}

		#status {
			margin: 0;
			text-align: center;
			color: blue;
		}

		#progressWr {
			margin-top: 5px;
		}

		#progress {
			background: blue;
			height: 4px;
		}

		#log {
			margin: 1em;
			padding: 5px 1em;
			border-left: 3px solid silver;
			overflow: auto;
			height: 15em;
		}

		#log .info {
			color: blue;
		}

		#log .end {
			border-bottom: 1px solid silver;
			padding-bottom: 2px;
			margin-bottom: 5px;
		}

		#log .success {
			color: green;
		}

		#log .error {
			color: maroon;
		}

		label {
			font-weight: normal !important;
		}

		#infobar {
			text-align: center;
			margin-top: -1em;
			margin-bottom: -0.33em;
		}

		#spinner {
			margin-left: auto;
			margin-right: auto;
			display: block;
		}

		#my-tags > a {
			text-decoration: none;
		}

		.bold {
			font-weight: bold;
		}

		#tagsWr {
			padding-top: 0.5em;
		}
	</style>
	<script type="text/javascript" src="https://seedmanc.github.io/Booru-mass-uploader/js/common-min.js"></script>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/prototype/1.7.3.0/prototype.js"></script>
	<script type="text/javascript" src="https://seedmanc.github.io/Booru-mass-uploader/js/booru-params.js"></script>
	<script type="text/javascript" src="https://seedmanc.github.io/Booru-mass-uploader/js/helpers.min.js"></script>
	<script type="text/javascript" src="https://seedmanc.github.io/Booru-mass-uploader/js/uploader.js"></script>
</head>
<body>
<h1>Booru Mass-Uploader 
 <a href="#" style="text-decoration:none;" onclick=
    "if (document.body.style.width == '66%') {
         document.body.style.width = '95%';
         document.getElementById('source').style.width = '500px';
     } else {
         document.body.style.width = '66%';
         document.getElementById('source').style.width = '200px';
     };"
 >&harr;</a>
</h1>
<p class="intro">This script allows you to mass-upload images to imageboard sites running *booru software.
	Select a number of files and they're sent to the website along with the metadata you include such as
	the tags retrived from the filenames.</p>

<fieldset style="padding: 2px 1em">
	<legend>
		Filename syntax for correct uploads
		<span onclick="var el = 'fileNamesTip'; $style(el, 'display') == 'block' ? $hide(el) : $show(el);">
		  [+/-]
		</span>
	</legend>

	<div id="fileNamesTip" style="display: none; margin: 1em">
		<p>
			Example filename: <q>q nagisa muted_color tagme Filename.jpg</q>, where:
		</p>
		<ol>
			<li> <q>q </q> is the image's rating:
				<abbr title="Check http://*.booru.org/help/ratings.php for what these mean.">
				<q>s </q> = Safe, <q>q </q> = Questionable, and <q>e </q> = Explicit</abbr>;
				this part is optional.
				<span id="moreInfo0H" style="color: blue; display: inline;"
				onclick="document.getElementById('moreInfo0H').style.display = 'none';
				document.getElementById('moreInfo0').style.display = 'inline';">+</span>
				<span id="moreInfo0" style="display: none;">The next section gives the options
				of setting the images' ratings based on the button selected or the filenames
				and/or the button selected. (The ratings of the images can be set by forcing all
				images in an upload session to have a certain rating regardless of the filenames
				or by the first character and space of the filenames (in this case, if said first
				part is not found then it will set the rating(s) to the radio button's value).)</span>
			</li>
			<li> Spaces seperate tags. Here there are 3 tags: <q>nagisa</q>, <q>muted_color</q>,
				&amp; <q>tagme</q>.
				<span id="moreInfo1H" style="color: blue; display: inline;"
				onclick="document.getElementById('moreInfo1H').style.display = 'none';
				document.getElementById('moreInfo1').style.display = 'inline';">+</span>
				<span id="moreInfo1" style="display: none;">The
				tag <q>tagme</q> will be added if there is less than
				5 tags so it is not needed in this case.</span>
			</li>
			<li> Tags can be in any Unicode character (except <q> </q>, use <q>_</q> for spaces).
			</li>
			<li> The filename part can be set to the title feild or not, here it is "Filename".
				<span id="moreInfo2H" style="color: blue; display: inline;"
				onclick="document.getElementById('moreInfo2H').style.display = 'none';
				document.getElementById('moreInfo2').style.display = 'inline';">+</span>
				<span id="moreInfo2" style="display: none;">Keep it if tells a breif story about
				the image such as "X_went_to_Y" or it can be Googled to find the file's source.
				Don't keep it if the filename are numbered like "q ascii 1.jpg", "q ascii 2.jpg",
				"q ascii 3.jpg"	to avoid duplicate filenames.</span>
			</li>
		</ol>
	</div>
</fieldset>

<fieldset>
	<legend>Image ratings</legend>

	<div class="para">
		<input type="radio" name="rating-when" id="forceRating" checked="checked"/>
		<label for="forceRating"><strong>Force</strong> all ratings regardless of filename.</label>
		<input type="radio" name="rating-when" id="ratingAsDefault"/>
		<label for="ratingAsDefault">Only set rating if failed to determine it from the filename.</label>
	</div>

	<div class="para">
		<input type="radio" name="rating" id="setSafe" checked="checked"/>
		<label for="setSafe"><b>Safe</b></label>
		<input type="radio" name="rating" id="setQuest"/>
		<label for="setQuest">Questionable</label>
		<input type="radio" name="rating" id="setExplicit"/>
		<label for="setExplicit"><i>Explicit</i></label>
	</div>
</fieldset>

<fieldset>
	<legend>Tagging</legend>

	<input type="radio" name="tag-when" id="forceTags"/>
	<label for="forceTags">Ignore filenames, <strong>force</strong> tags of all images.</label>
	<br/>

	<input type="radio" name="tag-when" id="addTags" checked="checked"/>
	<label for="addTags">In addition to tags from image filenames also add these tags to each of them.</label>
	<br/>

	<div id="tagsWr">
		Tag list (separate with spaces):
		<input type="text" id="tags" style="width: 77%"/>
	</div>
	<div id="mytags" style="display:none;">
		<div style="float:left; ">Your tags:</div>
		<div style="text-align:center;" id="my-tags"></div>
	</div>
</fieldset>

<fieldset style="padding: 2px 1em">
	<legend>
		Other settings
		<span onclick="var el = 'otherSettings'; $style(el, 'display') == 'block' ? $hide(el) : $show(el);">
		  [+/-]
		</span>
	</legend>

	<div id="otherSettings" style="display: block;">
		<div>
			<div style="float:left;" class="para">
				<input type="checkbox" id="title"/>
				<label for="title">Set Title of each image to its original filename</label>
			</div>
			<div style="float:right;" class="para">
				Set Source field of each image to
				<input type="text" id="source" placeholder="Booru mass uploader" style="width:200px;"/>
			</div>
		</div>
		<div style="text-align:center; padding-bottom:14px; clear:both;">
			Select booru engine: <select id="engine" style="text-align:center; padding-top:3px;">
			<option value="gelbooru" selected>Gelbooru</option>
			<option value="moebooru">Moebooru</option>
			<option value="danbooru">Danbooru</option>
		</select>
			<input type="checkbox" id="onlyErrors">
			<label for="onlyErrors"> Log only errors</label>
		</div>
	</div>
</fieldset>
<div class="para" style="text-align:center;">Selection mode:
	<input type="radio" name="selection" id="asFiles" checked="checked">
	<label for="asFiles">files</label>
	<input type="radio" name="selection" id="asFolder">
	<label for="asFolder">folder (chrome only)</label>
</div>
<div class="para" style="padding:2px 1em;text-align:center;">
	Images:
	<input type="file" id="files" multiple="true" accept="image/*" style="width:90%;"/><br>
	(All files with extension other than <tt>jpg/jpeg/gif/png/bmp</tt> will be skipped.)
</div>
<br>
<img src="https://seedmanc.github.io/Booru-mass-uploader/spinner.gif" id="spinner" alt="loading"/>
<p style="display: none;" id="infobar">You are <b id="loggedIn"></b> to a <b id="current"></b> site.</p>
<button disabled="" id="submit" onclick="FilesSelected( $('files').files );">Upload!</button>

<h2 id="status"></h2>
<div id="progressWr">
	<div id="progress" style="width: 0"></div>
</div>
<div id="bat" style="display: none;"><a href="#">Download <b>.bat</b> error log</a></div>
<div id="log" style="display: none"></div>
</body>
</html>
